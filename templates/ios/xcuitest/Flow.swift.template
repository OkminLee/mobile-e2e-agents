//
//  {{FLOW_NAME}}Flow.swift
//  {{PROJECT_NAME}}UITests
//
//  Flow helper for {{FLOW_NAME}} user journey
//  Generated by mobile-e2e-agents
//

import XCTest

/// Flow helper that encapsulates a complete user journey for {{FLOW_NAME}}
///
/// Flows combine multiple Page Object interactions into reusable test steps.
/// They abstract common user journeys that are used across multiple tests.
///
/// Usage:
/// ```swift
/// let flow = {{FLOW_NAME}}Flow(app: app)
/// flow.complete{{FLOW_NAME}}()
/// ```
final class {{FLOW_NAME}}Flow {

    // MARK: - Properties

    private let app: XCUIApplication

    // Page Objects used in this flow
    // private lazy var loginPage = LoginPage(app: app)
    // private lazy var homePage = HomePage(app: app)

    // MARK: - Initialization

    init(app: XCUIApplication) {
        self.app = app
    }

    // MARK: - Flow Methods

    /// Execute the complete {{FLOW_NAME}} flow
    ///
    /// Steps:
    /// 1. TODO: Add step descriptions
    /// 2.
    /// 3.
    ///
    /// - Returns: Result of the flow (e.g., final page object)
    @discardableResult
    func complete{{FLOW_NAME}}() -> Self {
        // TODO: Implement flow steps
        // Example:
        // loginPage.enterUsername("testuser")
        //     .enterPassword("password123")
        //     .tapLogin()
        //
        // SmartWait.forLoadingToComplete(in: app)
        //
        // XCTAssertTrue(homePage.verifyScreenDisplayed())

        return self
    }

    // MARK: - Partial Flow Methods

    // Add partial flow methods for reuse in different test scenarios
    // Example:
    // func setupPreconditions() -> Self { ... }
    // func executeMainAction() -> Self { ... }
    // func verifyOutcome() -> Self { ... }

    // MARK: - Verification

    /// Verify the flow completed successfully
    @discardableResult
    func verifyFlowCompleted() -> Self {
        // TODO: Add verification logic
        // Example:
        // XCTAssertTrue(homePage.verifyWelcomeMessageDisplayed())

        return self
    }
}

// MARK: - Flow Configuration

extension {{FLOW_NAME}}Flow {

    /// Configuration options for the flow
    struct Configuration {
        // TODO: Add configuration options
        // Example:
        // var username: String = "testuser"
        // var shouldVerifyEachStep: Bool = true

        static let `default` = Configuration()
    }

    /// Execute flow with custom configuration
    @discardableResult
    func execute(with config: Configuration = .default) -> Self {
        // TODO: Use configuration in flow
        return complete{{FLOW_NAME}}()
    }
}
